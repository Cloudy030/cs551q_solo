{% extends 'games/shop/base.html' %}
{% load static %}
{% block content %}
<br>
<h2>Dashboard</h2>
<br>
  <h3>Proportion of Registered Account Types</h3>
  <br>
    <canvas id="accounts"></canvas>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <script type= 'text/javascript'>
    var ctx = document.getElementById('accounts').getContext('2d');
    var chart = new Chart(ctx, {
      //https://stackoverflow.com/questions/42848673/configure-pie-chart-colors-using-chart-js-and-php
        // The type of chart we want to create
        type: 'pie',

        // The data for our dataset
        data: {
        labels: ['Customer', 'Staff', 'Admin'],
        datasets: [{
            backgroundColor: [
            'rgb(230,255,85)', //yellow: customer
            'rgb(255,195,85)', //orange: staff
            'rgb(255,110,85)', //red: admin
            ],
            borderColor: 'rgb(178,136,59)',
            data: [{{cn}}, {{sn}}, {{an}}]
        }]
        },

        // Configuration options go here
        options: {
       //   scales:{}
        }
        });

    </script>
    <br><br>
    <h3>Number of Orders from each Customer</h3>
    <br>
    <canvas id="ordern"></canvas>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <script type= 'text/javascript'>
    var ctx = document.getElementById('ordern').getContext('2d');

    var chart = new Chart(ctx, {
        // The type of chart we want to create
        type: 'bar',
        // The data for our dataset
        data: {
          labels: ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10'],
          // https://stackoverflow.com/questions/28180871/grouped-bar-charts-in-chart-js
          datasets: [{
            label: 'Number of Orders from each Customer',
            //order: number //put your own numebr here with an extra comma, otherwise remove this line
            backgroundColor: 'rgb(255,195,85)', //color of bar
            borderColor: 'rgb(255,195,85)', //color of border
            data: [{{zero}}, {{one}}, {{two}}, {{three}}, {{four}}, {{five}}, {{six}}, {{seven}}, {{eight}}, {{nine}}, {{ten}}]
          },]
        },
        // Configuration options go here
        options: {
          scales: {
            xAxes: [{
             scaleLabel: {
                display: true,
                labelString: 'Number of orders',
                fontSize: 12,
              }
            }], 
            yAxes: [{
              scaleLabel: {
                display: true,
                labelString: 'Number of customers',
                fontSize: 12,
              },
              ticks: {
                beginAtZero: true
              }
            }]
          }
        }
      });
    </script>

    {% endblock %}